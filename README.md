# ๐จ Stickers Service

ะัะพะตะบั ะฝะฐ Go ะดะปั ะณะตะฝะตัะฐัะธะธ ะธ ะฐะฒัะพะผะฐัะธัะตัะบะพะน ะฟะตัะฐัะธ ััะธะบะตัะพะฒ ะฟะพ ะทะฐะบะฐะทะฐะผ ะธะท Poster. ะะพะดะดะตัะถะธะฒะฐะตั ัะฐะฑะพัั ั ะผะพะดะธัะธะบะฐัะพัะฐะผะธ ะฟัะพะดัะบัะพะฒ ะธ ะบะตัะธัะพะฒะฐะฝะธะต ะดะฐะฝะฝัั.

## ๐ ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั

- ะะพะปััะตะฝะธะต ัะฟะธัะบะฐ ะฟัะพะดัะบัะพะฒ ะธะท Poster API
- ะะตัะธัะพะฒะฐะฝะธะต ะดะฐะฝะฝัั ะฟัะพะดัะบัะพะฒ
- ะะตะฝะตัะฐัะธั PDF ััะธะบะตัะพะฒ ั ะทะฐะบะฐะทะพะผ
- ะะฒัะพะผะฐัะธัะตัะบะฐั ะฟะตัะฐัั ัะตัะตะท SumatraPDF
- ะคะธะปัััะฐัะธั ะฟัะพะดัะบัะพะฒ ะฟะพ ID ะธ ัะตัั
- ะะตะฑ-ัะตัะฒะตั ะดะปั ะฟัะธัะผะฐ ะทะฐะบะฐะทะพะฒ

## ๐ฆ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```bush
stickers/
โโโ cmd/
โ
โโโ internal/
โ โโโ api/
โ โโโ config/
โ โโโ models/
โ โโโ processor/
โ โโโ server/
โ โ โโโ api/
โ โ โโโ config/
โ โโโ storage/
โ
โโโ assets/
โ โโโ data/
โ โโโ font/
โ โโโ images/
โ
โโโ .env
โโโ go.mod
โโโ go.sum
โโโ README.md
```

## ๐ ะะฐัััะพะนะบะธ

ะัะต ะบะพะฝัะธะณััะฐัะธะธ ะทะฐะดะฐัััั ัะตัะตะท `.env` ัะฐะนะป:

```env
POSTER_TOKEN=your_poster_token
PRINTER_NAME="Your Printer Name"
SUMATRA_PATH="C:\\Program Files\\SumatraPDF\\SumatraPDF.exe"
ALLOWED_IDS=123,456,789
```

## โ ะะฐะฟััะบ

```bash
go run cmd/main.go
```

`POST /print`
ะัะธะฝะธะผะฐะตั JSON-ะทะฐะบะฐะท ะธ ะทะฐะฟััะบะฐะตั ะณะตะฝะตัะฐัะธั + ะฟะตัะฐัั ััะธะบะตัะพะฒ.

ะัะธะผะตั ะทะฐะฟัะพัะฐ:

```json
{
	"client_name": "Dos",
	"close_time": "2024-04-10T20:15:00Z",
	"products": [
		{
			"id": "123",
			"modifications": "[{\"m\":1}]",
			"comment": "no sugar"
		}
	]
}
```

## ๐ง ะัะพะฑะตะฝะฝะพััะธ

ะัะฟะพะปัะทัะตั SumatraPDF ะดะปั ะฑััััะพะน ะธ ะฑะตัััะผะฝะพะน ะฟะตัะฐัะธ

ะะพะดะดะตัะถะบะฐ ID ะฟัะพะดัะบัะพะฒ, ะธัะบะปัััะฝะฝัั ะธะท ะฟะตัะฐัะธ (ALLOWED_IDS)

ะะพะผะตั ะทะฐะบะฐะทะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธะฝะบัะตะผะตะฝัะธััะตััั ะธ ััะฐะฝะธััั ะฒ assets/data/order_number.txt

ะัะปะธ ะฝะต ัะดะฐัััั ะฟะพะปััะธัั ะฟัะพะดัะบัั ะธะท Poster โ ะธัะฟะพะปัะทัะตััั ะบะตั

## ๐จ ะขัะตะฑะพะฒะฐะฝะธั

Windows (ะดะปั ะฟะตัะฐัะธ ัะตัะตะท SumatraPDF)

ะฃััะฐะฝะพะฒะปะตะฝะฝัะน ะฟัะธะฝัะตั

ะฃััะฐะฝะพะฒะปะตะฝะฝัะน SumatraPDF

## โ๐ผ ะะฒัะพั

`Damir Usetov`
